<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="898" height="444" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:898px;height:444px" preserveAspectRatio="none" version="1.1" viewBox="0 0 898 444" zoomAndPan="magnify"><defs><filter id="f1mrmeib7yj1se" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="47" x2="47" y1="38.488" y2="403.904"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="357.5" x2="357.5" y1="38.488" y2="403.904"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="570.5" x2="570.5" y1="38.488" y2="403.904"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="723.5" x2="723.5" y1="38.488" y2="403.904"/><rect style="stroke:#a80036;stroke-width:1.5" width="74" height="30.488" x="8" y="3" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="15" y="23.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60">frontend</text><rect style="stroke:#a80036;stroke-width:1.5" width="74" height="30.488" x="8" y="402.904" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="15" y="423.44" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60">frontend</text><rect style="stroke:#a80036;stroke-width:1.5" width="95" height="30.488" x="308.5" y="3" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="315.5" y="23.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">kubesphere</text><rect style="stroke:#a80036;stroke-width:1.5" width="95" height="30.488" x="308.5" y="402.904" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="315.5" y="423.44" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">kubesphere</text><rect style="stroke:#a80036;stroke-width:1.5" width="155" height="30.488" x="491.5" y="3" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="498.5" y="23.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141">Authorization server</text><rect style="stroke:#a80036;stroke-width:1.5" width="155" height="30.488" x="491.5" y="402.904" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="498.5" y="423.44" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141">Authorization server</text><rect style="stroke:#a80036;stroke-width:1.5" width="123" height="30.488" x="660.5" y="3" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="667.5" y="23.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">Resource server</text><rect style="stroke:#a80036;stroke-width:1.5" width="123" height="30.488" x="660.5" y="402.904" fill="#FEFECE" filter="url(#f1mrmeib7yj1se)"/><text x="667.5" y="423.44" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">Resource server</text><polygon fill="#A80036" points="346 65.799 356 69.799 346 73.799 350 69.799" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="47" x2="352" y1="69.799" y2="69.799"/><text x="54" y="65.057" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135">OAuth2 login request</text><polygon fill="#A80036" points="58 95.109 48 99.109 58 103.109 54 99.109" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="52" x2="357" y1="99.109" y2="99.109"/><text x="64" y="94.367" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287">Redirect to authorization server with client_id</text><polygon fill="#A80036" points="559 124.42 569 128.42 559 132.42 563 128.42" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="47" x2="565" y1="128.42" y2="128.42"/><text x="54" y="123.678" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85">Grant request</text><polygon fill="#A80036" points="58 153.731 48 157.731 58 161.731 54 157.731" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="52" x2="570" y1="157.731" y2="157.731"/><text x="64" y="152.988" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246">Redirect to ks-console with grant code</text><polygon fill="#A80036" points="346 183.041 356 187.041 346 191.041 350 187.041" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="47" x2="352" y1="187.041" y2="187.041"/><text x="54" y="182.299" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188">Login request with grant code</text><polygon fill="#A80036" points="559 212.352 569 216.352 559 220.352 563 216.352" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="358" x2="565" y1="216.352" y2="216.352"/><text x="365" y="211.609" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120">Auth by grant code</text><polygon fill="#A80036" points="369 241.662 359 245.662 369 249.662 365 245.662" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="363" x2="570" y1="245.662" y2="245.662"/><text x="375" y="240.92" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189">access_token &amp; refresh_token</text><polygon fill="#A80036" points="712 275.973 722 279.973 712 283.973 716 279.973" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="358" x2="718" y1="279.973" y2="279.973"/><text x="365" y="275.231" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137">Describe user request</text><path fill="#FBFB77" d="M729,258.6621 L729,283.6621 L886,283.6621 L886,268.6621 L876,258.6621 L729,258.6621" filter="url(#f1mrmeib7yj1se)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M876,258.6621 L876,268.6621 L886,268.6621 L876,258.6621" style="stroke:#a80036;stroke-width:1"/><text x="735" y="276.231" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136">auth by access_token</text><polygon fill="#A80036" points="369 310.283 359 314.283 369 318.283 365 314.283" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="363" x2="723" y1="314.283" y2="314.283"/><text x="375" y="309.541" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147">Describe user response</text><line style="stroke:#a80036;stroke-width:1" x1="358" x2="400" y1="343.594" y2="343.594"/><line style="stroke:#a80036;stroke-width:1" x1="400" x2="400" y1="343.594" y2="356.594"/><line style="stroke:#a80036;stroke-width:1" x1="359" x2="400" y1="356.594" y2="356.594"/><polygon fill="#A80036" points="369 352.594 359 356.594 369 360.594 365 356.594" style="stroke:#a80036;stroke-width:1"/><text x="365" y="338.852" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68">User exist?</text><path fill="#FBFB77" d="M445,328.7832 L445,353.7832 L577,353.7832 L577,338.7832 L567,328.7832 L445,328.7832" filter="url(#f1mrmeib7yj1se)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M567,328.7832 L567,338.7832 L577,338.7832 L567,328.7832" style="stroke:#a80036;stroke-width:1"/><text x="451" y="346.352" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111">create if not exist</text><polygon fill="#A80036" points="58 381.904 48 385.904 58 389.904 54 385.904" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="52" x2="357" y1="385.904" y2="385.904"/><text x="64" y="381.162" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23">JWT</text></g></svg>